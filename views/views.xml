<odoo>
    <data>

        <!--  test model views  -->
        <!-- explicit list view definition -->
        <record model="ir.ui.view" id="test_app.list">
            <field name="name">test_app list</field>
            <field name="model">test_app.test_app</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="value"/>
                    <field name="value2"/>
                </tree>
            </field>
        </record>

        <!-- explicit form view definition -->
        <record model="ir.ui.view" id="test_app.form">
            <field name="name">test_app form</field>
            <field name="model">test_app.test_app</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                            </group>
                            <group>
                                <field name="description"/>
                            </group>
                            <notebook>
                                <page string="Value1">
                                    <field name="value"/>
                                </page>
                                <page string="Value2">
                                    <field name="value2"/>
                                </page>
                            </notebook>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- explicit search view definition -->
        <record model="ir.ui.view" id="test_app.search">
            <field name="name">test_app search</field>
            <field name="model">test_app.test_app</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="value"/>
                    <field name="description"/>
                </search>
            </field>
        </record>

        <!-- actions opening views on models -->
        <record model="ir.actions.act_window" id="test_app.action_window">
            <field name="name">test_app window</field>
            <field name="res_model">test_app.test_app</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- server action to the one above -->
        <record model="ir.actions.server" id="test_app.action_server">
            <field name="name">test_app server</field>
            <field name="model_id" ref="model_test_app_test_app"/>
            <field name="state">code</field>
            <field name="code">
                action = {
                "type": "ir.actions.act_window",
                "view_mode": "tree,form",
                "res_model": model._name,
                }
            </field>
        </record>

        <!-- Top menu item -->
        <menuitem name="test_app" id="test_app.menu_root" web_icon="test_app,static/description/icon.png"/>

        <!-- menu categories -->
        <menuitem name="Menu 1" id="test_app.menu_1" parent="test_app.menu_root"/>
        <menuitem name="Menu 2" id="test_app.menu_2" parent="test_app.menu_root"/>

        <!-- actions -->
        <menuitem name="List" id="test_app.menu_1_list" parent="test_app.menu_1"
                  action="test_app.action_window"/>

        <menuitem name="Server to list" id="test_app" parent="test_app.menu_2"
                  action="test_app.action_server"/>


        <!--  course model views    -->

        <!-- explicit form view definition -->
        <record model="ir.ui.view" id="test_app.course_form">
            <field name="name">course form</field>
            <field name="model">test_app.course</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button string="Open" name="set_course_open" type="object" invisible="state == 'opened'"/>
                        <button string="Close" name="set_course_close" type="object" invisible="state == 'closed'"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div name="button_box" class="oe_button_box">
                            <button string="Responsible" type="object" name="open_related_responsible_button"
                                            icon="fa-user" invisible="not responsible_id"/>
                        </div>
                        <widget name="web_ribbon" text="Archived" bg_color="text-bg-danger" invisible="active"/>
                        <widget name="web_ribbon" text="Closed" bg_color="text-bg-secondary" invisible="state != 'closed'"/>
                        <group>
                            <field name="name"/>
                            <field name="description"/>
                            <field name="summary"/>
                            <field name="responsible_id"/>
                            <field name="expiration_date" invisible="1"/>
                            <field name="is_expired"/>
                            <field name="active"/>
                        </group>
                        <notebook>
                            <page string="Sessions">
                                <!--            customize tree view on the fly for relational field        -->
                                <field name="session_ids">
                                    <tree>
                                        <field name="name"/>
                                        <field name="seats"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- explicit search view definition -->
        <record model="ir.ui.view" id="test_app.course_search">
            <field name="name">course search</field>
            <field name="model">test_app.course</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="description"/>
                    <filter name="my_courses" string="My courses" domain="[('responsible_id', '=', uid)]"/>
                    <group>
                        <filter name="by_responsible" string="Responsible" context="{'group_by': 'responsible_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="test_app.course_list">
            <field name="name">course list</field>
            <field name="model">test_app.course</field>
            <field name="arch" type="xml">
                <tree multi_edit="1" class="header_custom" decoration-danger="(is_expired)">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="state"/>
                    <field name="is_expired" invisible="1"/>
                </tree>
            </field>
        </record>

        <!-- actions opening views on models -->
        <record model="ir.actions.act_window" id="test_app.course_action_window">
            <field name="name">course window</field>
            <field name="res_model">test_app.course</field>
            <field name="context" eval="{'search_default_my_courses': 1}"/>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- menu item actions -->
        <menuitem name="course_menu" id="test_app.course_menu_1_list" parent="test_app.menu_1"
                  action="test_app.course_action_window"/>


        <!--  session model views  -->

        <!-- explicit list view definition -->
        <record model="ir.ui.view" id="test_app.session_list">
            <field name="name">session list</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <tree decoration-info="seats &gt; 0" decoration-danger="seats &lt; 0" decoration-warning="seats == 0">
                    <field name="name"/>
                    <field name="duration"/>
                    <field name="seats"/>
                </tree>
            </field>
        </record>


        <!--            <header>-->
        <!--                <button name="session_search" type="object" string="Search" class="oe_highlight"/>-->
        <!--            </header>-->


        <!-- explicit calendar view definition -->
        <record model="ir.ui.view" id="test_app.session_calendar">
            <field name="name">session calendar</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <calendar string="Session Calender" date_start="start_date" date_stop="end_date" color="instructor_id">
                    <field name="name"/>
                    <field name="duration"/>
                    <field name="seats"/>
                </calendar>
            </field>
        </record>

        <!-- explicit graph view definition -->
        <record model="ir.ui.view" id="test_app.session_graph">
            <field name="name">session graph</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <graph string="Session Graph">
                    <field name="course_id"/>
                    <field name="attendee_count" type="measure"/>
                </graph>
            </field>
        </record>

        <!-- explicit pivot view definition -->
        <record model="ir.ui.view" id="test_app.session_pivot">
            <field name="name">session pivot</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <pivot string="Session Pivot">
                    <field name="course_id"/>
                    <field name="attendee_count" type="measure"/>
                </pivot>
            </field>
        </record>

        <!-- Kanban view for test_app.session.kanban -->
        <record id="test_app.session_kanban" model="ir.ui.view">
            <field name="name">session.kanban</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <kanban default_group_by="course_id">
                    <!-- Define the columns based on courses -->
                    <field name="name"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click">
                                <div class="oe_kanban_details">
                                    <field name="name"/>
                                </div>
                                <div class="oe_kanban_details">
                                    <field name="duration"/>
                                </div>
                                <div class="oe_kanban_details">
                                    <field name="seats"/>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- explicit form view definition -->
        <record model="ir.ui.view" id="test_app.session_form">
            <field name="name">session form</field>
            <field name="model">test_app.session</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="session_search" type="object" string="Search" class="oe_highlight"/>
                    </header>
                    <sheet>
                        <h1>
                            <field name="ref"/>
                        </h1>
                        <group>
                            <group string="General">
                                <field name="name"/>
                                <field name="course_id"/>
                                <field name="course_description"/>
                                <field name="active"/>
                                <field name="instructor_id" invisible="seats == False"
                                       domain="[('name', 'like', 'A')]"/>

                            </group>
                            <group string="Schedule">
                                <field name="start_date"/>
                                <field name="duration"/>
                                <field name="end_date"/>
                                <field name="seats"/>
                                <field name="attendance_rate" widget="progressbar"/>
                            </group>
                        </group>
                        <label for="attendee_ids"/>
                        <field name="attendee_ids" widget="many2many_tags"/>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- actions opening views on models -->
        <record model="ir.actions.act_window" id="test_app.session_action_window">
            <field name="name">session window</field>
            <field name="res_model">test_app.session</field>
            <field name="view_mode">tree,form,calendar,graph,pivot,kanban</field>
        </record>


        <!-- menu item actions -->
        <menuitem name="session_menu" id="test_app.session_menu_1_list" parent="test_app.menu_1"
                  action="test_app.session_action_window"/>


        <!--   explicit form view for wizard_session   -->
<!--        <record model="ir.ui.view" id="wizard_form_view">-->
<!--            <field name="name">wizard.form</field>-->
<!--            <field name="model">test_app.wizard</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <form string="Add Attendees">-->
<!--                    <group>-->
<!--                        <field name="session_ids"/>-->
<!--                        <field name="attendee_ids"/>-->
<!--                    </group>-->
<!--                    <footer>-->
<!--                        <button string="Register" type="object" name="action_register_attendees" class="btn-primary"/>-->
<!--                        <button string="Cancel" special="cancel" class="btn-secondary"/>-->
<!--                    </footer>-->
<!--                </form>-->
<!--            </field>-->
<!--        </record>-->

        <!--       Wizard act window   -->
        <!--      <act_window id="launch_the_wizard"-->
        <!--                  name="Add attendees"-->
        <!--                  binding_model="test_app.session"-->
        <!--                  res_model="test_app.wizard"-->
        <!--                  view_mode="form"-->
        <!--                  target="new"/>-->

<!--        <record id="launch_the_wizard" model="ir.actions.act_window">-->
<!--            <field name="name">Session Registration</field>-->
<!--            <field name="res_model">test_app.wizard</field>-->
<!--            <field name="view_mode">form</field>-->
<!--            <field name="target">new</field>-->
<!--            <field name="binding_model_id" ref="model_test_app_session"/>-->
<!--        </record>-->


    </data>
</odoo>
