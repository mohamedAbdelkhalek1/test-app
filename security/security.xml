<odoo>

<!--  create a new group  -->
    <record id="test_category" model="ir.module.category">
        <field name="name">Test Groups</field>
    </record>

    <record id="group_normal" model="res.groups">
        <field name="name">test_app / Normal</field>
        <field name="category_id" ref="test_category"/>
    </record>

    <record id="group_manager" model="res.groups">
        <field name="name">test_app / Manager</field>
        <field name="category_id" ref="test_category"/>
       <field name="implied_ids" eval="[(4, ref('group_normal'))]"/>    <!--  Many2many field-->
    </record>

    <!--  new access rule  -->
    <record id="only_responsible_can_modify" model="ir.rule">
        <field name="name">Only responsible can modify course</field>
        <field name="model_id" ref="model_test_app_course"/>
        <field name="groups" eval="[(4,ref('test_app.group_manager'))]"/>
<!--        <field name="perm_read" eval="0"/>-->
<!--        <field name="perm_write" eval="1"/>-->
<!--        <field name="perm_create" eval="0"/>-->
<!--        <field name="perm_unlink" eval="1"/>-->
        <field name="domain_force"> ['|', ('responsible_id', '=', False), ('responsible_id', '=', user.id)] </field>
    </record>
</odoo>

<!--test_app_group_normal_course_access,test_app_group_normal_course_access,model_test_app_course,group_normal,1,1,0,0-->
<!--test_app_group_normal_session_access,test_app_group_normal_session_access,model_test_app_session,group_normal,1,1,1,1-->

<!--test_app_group_manager_course_access,test_app_group_manager_course_access,model_test_app_course,group_manager,1,1,1,1-->
